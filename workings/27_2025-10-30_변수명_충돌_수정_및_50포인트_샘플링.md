# λ³€μλ… μ¶©λ μμ • λ° 50ν¬μΈνΈ μƒν”λ§ κ°μ„ 

**λ‚ μ§**: 2025-10-30
**μ‘μ—…μ**: Claude Code

## κ°μ”

Crossing λ¨λ“μ—μ„ λ¨μ„λ¦¬ κ°μ§€κ°€ μ λ€λ΅ μ‘λ™ν•μ§€ μ•λ” **μΉλ…μ μΈ λ²„κ·Έ**λ¥Ό λ°κ²¬ν•κ³  μμ •ν–μµλ‹λ‹¤. λ™μ‹μ— μƒν” ν¬μΈνΈλ¥Ό 50κ°λ΅ μ¦κ°€μ‹μΌ κ°μ§€ μ •ν™•λ„λ¥Ό λ€ν­ ν–¥μƒμ‹μΌ°μµλ‹λ‹¤.

## λ¬Έμ  1: λ³€μλ… μ¶©λ (Critical Bug) π”΄

### μ¦μƒ

μ‚¬μ©μ λ³΄κ³ :
> "μ°μΈ΅μ—μ„ μΆμΈ΅μΌλ΅ μλ„μ°λ¥Ό μ§€μ¤λ©”νΈλ¦¬κ°μ²΄μ— κ²Ήμ³¤μ„λ• λ¨μ„λ¦¬λ¶€λ¶„λ§ κ²ΉμΉλ©΄ μ„ νƒλ―Έλ¦¬λ³΄κΈ°κ°€ μ•λκ³  μ„ νƒλ„ μ•λκ³ μμ–΄."

### μ›μΈ λ¶„μ„

μ„ νƒ λ°•μ¤μ μΆν‘ λ³€μ(`minX`, `maxX`, `minY`, `maxY`)μ™€ λ°”μ΄λ”© λ°•μ¤μ μΆν‘ λ³€μκ°€ **κ°™μ€ μ΄λ¦„μ„ μ‚¬μ©**ν•μ—¬ λ®μ–΄μ”μ›μ§€λ” λ¬Έμ κ°€ μμ—μµλ‹λ‹¤.

#### Before (λ²„κ·Έ μλ” μ½”λ“):

```javascript
function performBoxSelection(isAdditive) {
    // 1λ‹¨κ³„: μ„ νƒ λ°•μ¤ μΆν‘ μ •μ
    const minX = Math.min(dragStart.x, dragCurrent.x);  // μ„ νƒ λ°•μ¤ μΆν‘
    const maxX = Math.max(dragStart.x, dragCurrent.x);
    const minY = Math.min(dragStart.y, dragCurrent.y);
    const maxY = Math.max(dragStart.y, dragCurrent.y);

    // 2λ‹¨κ³„: κ° κ°μ²΄ μν
    bimMeshes.forEach(mesh => {
        const bbox = mesh.geometry.boundingBox;

        // π”΄ μ—¬κΈ°μ„ λ¬Έμ  λ°μƒ!
        const minX = bbox.min.x;  // μ„ νƒ λ°•μ¤ minXλ¥Ό λ®μ–΄μ”€!
        const maxX = bbox.max.x;  // μ„ νƒ λ°•μ¤ maxXλ¥Ό λ®μ–΄μ”€!
        const minY = bbox.min.y;
        const maxY = bbox.max.y;

        // ... μƒν” ν¬μΈνΈ μƒμ„±

        for (let point of samplePoints) {
            // 3λ‹¨κ³„: μΆν‘ λΉ„κµ
            if (x >= minX && x <= maxX && y >= minY && y <= maxY) {
                // π”΄ μ—¬κΈ°μ„ μλ»λ minX, maxX μ‚¬μ©!
                // bbox.min.x, bbox.max.xμ™€ λΉ„κµν•κ² λ¨
                // μ„ νƒ λ°•μ¤ μΆν‘κ°€ μ•„λ‹ λ°”μ΄λ”© λ°•μ¤ μΆν‘μ™€ λΉ„κµ!
                pointsInBox++;
            }
        }
    });
}
```

**λ¬Έμ μ :**
1. `minX`, `maxX` λ³€μκ°€ λ‘ λ² μ •μλ¨
2. λ‘ λ²μ§Έ μ •μκ°€ μ²« λ²μ§Έλ¥Ό λ®μ–΄μ”€ (shadowing)
3. μ„ νƒ λ°•μ¤ μΆν‘μ™€ λΉ„κµν•΄μ•Ό ν•λ”λ° λ°”μ΄λ”© λ°•μ¤ μΆν‘μ™€ λΉ„κµν•¨
4. κ²°κ³Όμ μΌλ΅ μ„ νƒ λ΅μ§μ΄ μ™„μ „ν μλ» μ‘λ™

#### After (μμ •λ μ½”λ“):

```javascript
function performBoxSelection(isAdditive) {
    // 1λ‹¨κ³„: μ„ νƒ λ°•μ¤ μΆν‘ (μ ‘λ‘μ‚¬ sel μ¶”κ°€)
    const selMinX = Math.min(dragStart.x, dragCurrent.x);  // β… λ…ν™•ν• μ΄λ¦„
    const selMaxX = Math.max(dragStart.x, dragCurrent.x);
    const selMinY = Math.min(dragStart.y, dragCurrent.y);
    const selMaxY = Math.max(dragStart.y, dragCurrent.y);

    // 2λ‹¨κ³„: κ° κ°μ²΄ μν
    bimMeshes.forEach(mesh => {
        const bbox = mesh.geometry.boundingBox;

        // β… λ°”μ΄λ”© λ°•μ¤ μΆν‘ (μ ‘λ‘μ‚¬ bbox μ¶”κ°€)
        const bboxMinX = bbox.min.x;
        const bboxMaxX = bbox.max.x;
        const bboxMinY = bbox.min.y;
        const bboxMaxY = bbox.max.y;

        // μƒν” ν¬μΈνΈ μƒμ„± (bboxMinX λ“± μ‚¬μ©)
        const samplePoints = [
            new THREE.Vector3(bboxMinX, bboxMinY, bboxMinZ),
            // ...
        ];

        for (let point of samplePoints) {
            // 3λ‹¨κ³„: μΆν‘ λΉ„κµ
            if (x >= selMinX && x <= selMaxX && y >= selMinY && y <= selMaxY) {
                // β… μ¬λ°”λ¥Έ selMinX, selMaxX μ‚¬μ©!
                // μ„ νƒ λ°•μ¤ μΆν‘μ™€ μ •ν™•ν λΉ„κµ
                pointsInBox++;
            }
        }
    });
}
```

### μν–¥

**μ΄ λ²„κ·Έλ΅ μΈν•΄:**
- μ„ νƒ λ°•μ¤ λ΅μ§μ΄ μ™„μ „ν μ‘λ™ν•μ§€ μ•μ•μ
- νΉν Crossing λ¨λ“(μ°β†’μΆ)μ—μ„ λ¨μ„λ¦¬ κ°μ§€ λ¶κ°€λ¥
- λ―Έλ¦¬λ³΄κΈ°λ„ μλ» ν‘μ‹λ¨

**μμ • ν›„:**
- μ„ νƒ λ°•μ¤μ™€ λ°”μ΄λ”© λ°•μ¤λ¥Ό μ •ν™•ν λΉ„κµ
- Crossing λ¨λ“κ°€ μ •μƒ μ‘λ™
- λ―Έλ¦¬λ³΄κΈ°μ™€ μ‹¤μ  μ„ νƒμ΄ μΌμΉ

## λ¬Έμ  2: μƒν” ν¬μΈνΈ λ¶€μ΅±

λ³€μλ… μ¶©λμ„ μμ •ν•΄λ„ 26κ° μƒν” ν¬μΈνΈλ΅λ” μ–‡μ€ λ¨μ„λ¦¬κ°€ κ°μ§€λμ§€ μ•λ” κ²½μ°κ°€ μμ—μµλ‹λ‹¤.

### ν•΄κ²° λ°©λ²•: 50ν¬μΈνΈ μƒν”λ§

κ° λ¨μ„λ¦¬μ— **3κ°μ μƒν” ν¬μΈνΈ**λ¥Ό λ°°μΉν•μ—¬ λ” μ΄μ΄ν•κ² κ°μ§€ν•©λ‹λ‹¤.

#### Before (26κ° ν¬μΈνΈ):

```
λ¨μ„λ¦¬ μμ‹:
min β—β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β— max
    β””β”€ 1κ°λ§ κ²€μ‚¬
```

κ° λ¨μ„λ¦¬λ‹Ή 1κ°μ”©λ§ κ²€μ‚¬ (μ¤‘μ )

#### After (50κ° ν¬μΈνΈ):

```
λ¨μ„λ¦¬ μμ‹:
min β—β”€β”€β”€β—β”€β”€β”€β—β”€β”€β”€β—β”€β— max
    1/4 mid 3/4
    β””β”€ 3κ° κ²€μ‚¬ (1/4, μ¤‘μ , 3/4)
```

κ° λ¨μ„λ¦¬λ‹Ή 3κ°μ”© κ²€μ‚¬ (1/4, μ¤‘μ , 3/4)

### 50κ° μƒν” ν¬μΈνΈ κµ¬μ΅°

```javascript
// 8κ° κΌ­μ§“μ  (λ³€κ²½ μ—†μ)
8 corners

// 12κ° λ¨μ„λ¦¬ μ¤‘μ  (λ³€κ²½ μ—†μ)
12 edge midpoints

// 6κ° λ©΄ μ¤‘μ‹¬μ  (λ³€κ²½ μ—†μ)
6 face centers

// 24κ° λ¨μ„λ¦¬ 1/4, 3/4 μ§€μ  (NEW!)
12 edges Γ— 2 points (1/4, 3/4) = 24 points
```

**μ΄ 50κ° ν¬μΈνΈ:**
- 8 (corners)
- \+ 12 (edge midpoints)
- \+ 6 (face centers)
- \+ 24 (edge quarter points) β† NEW
- = **50 sample points**

### κµ¬ν„ μ„Έλ¶€μ‚¬ν•­

```javascript
// 1/4, 3/4 μ§€μ  κ³„μ‚°
const bboxQ1X = bboxMinX + (bboxMaxX - bboxMinX) * 0.25;  // 1/4
const bboxQ3X = bboxMinX + (bboxMaxX - bboxMinX) * 0.75;  // 3/4
const bboxQ1Y = bboxMinY + (bboxMaxY - bboxMinY) * 0.25;
const bboxQ3Y = bboxMinY + (bboxMaxY - bboxMinY) * 0.75;
const bboxQ1Z = bboxMinZ + (bboxMaxZ - bboxMinZ) * 0.25;
const bboxQ3Z = bboxMinZ + (bboxMaxZ - bboxMinZ) * 0.75;

// 24κ° quarter points μ¶”κ°€
const samplePoints = [
    // ... κΈ°μ΅΄ 26κ° ν¬μΈνΈ

    // Xμ¶• λ¨μ„λ¦¬ (4κ° λ¨μ„λ¦¬ Γ— 2 ν¬μΈνΈ = 8κ°)
    new THREE.Vector3(bboxQ1X, bboxMinY, bboxMinZ),
    new THREE.Vector3(bboxQ3X, bboxMinY, bboxMinZ),
    new THREE.Vector3(bboxQ1X, bboxMaxY, bboxMinZ),
    new THREE.Vector3(bboxQ3X, bboxMaxY, bboxMinZ),
    new THREE.Vector3(bboxQ1X, bboxMinY, bboxMaxZ),
    new THREE.Vector3(bboxQ3X, bboxMinY, bboxMaxZ),
    new THREE.Vector3(bboxQ1X, bboxMaxY, bboxMaxZ),
    new THREE.Vector3(bboxQ3X, bboxMaxY, bboxMaxZ),

    // Yμ¶• λ¨μ„λ¦¬ (4κ° λ¨μ„λ¦¬ Γ— 2 ν¬μΈνΈ = 8κ°)
    new THREE.Vector3(bboxMinX, bboxQ1Y, bboxMinZ),
    new THREE.Vector3(bboxMinX, bboxQ3Y, bboxMinZ),
    new THREE.Vector3(bboxMaxX, bboxQ1Y, bboxMinZ),
    new THREE.Vector3(bboxMaxX, bboxQ3Y, bboxMinZ),
    new THREE.Vector3(bboxMinX, bboxQ1Y, bboxMaxZ),
    new THREE.Vector3(bboxMinX, bboxQ3Y, bboxMaxZ),
    new THREE.Vector3(bboxMaxX, bboxQ1Y, bboxMaxZ),
    new THREE.Vector3(bboxMaxX, bboxQ3Y, bboxMaxZ),

    // Zμ¶• λ¨μ„λ¦¬ (4κ° λ¨μ„λ¦¬ Γ— 2 ν¬μΈνΈ = 8κ°)
    new THREE.Vector3(bboxMinX, bboxMinY, bboxQ1Z),
    new THREE.Vector3(bboxMinX, bboxMinY, bboxQ3Z),
    new THREE.Vector3(bboxMaxX, bboxMinY, bboxQ1Z),
    new THREE.Vector3(bboxMaxX, bboxMinY, bboxQ3Z),
    new THREE.Vector3(bboxMinX, bboxMaxY, bboxQ1Z),
    new THREE.Vector3(bboxMinX, bboxMaxY, bboxQ3Z),
    new THREE.Vector3(bboxMaxX, bboxMaxY, bboxQ1Z),
    new THREE.Vector3(bboxMaxX, bboxMaxY, bboxQ3Z)
];
```

## λ³€κ²½ μ‚¬ν•­ μ”μ•½

### λ³€κ²½λ νμΌ

**`connections/static/connections/three_d_viewer.js`**

#### μμ •λ ν•¨μ 1: `updateBoxSelectionPreview()`

**Before:**
```javascript
const minX = Math.min(dragStart.x, dragCurrent.x);  // β μ¶©λ
// ... 26κ° ν¬μΈνΈ
```

**After:**
```javascript
const selMinX = Math.min(dragStart.x, dragCurrent.x);  // β… λ…ν™•
// ... 50κ° ν¬μΈνΈ
```

#### μμ •λ ν•¨μ 2: `performBoxSelection()`

**Before:**
```javascript
const minX = Math.min(dragStart.x, dragCurrent.x);  // β μ¶©λ
// ... 26κ° ν¬μΈνΈ
```

**After:**
```javascript
const selMinX = Math.min(dragStart.x, dragCurrent.x);  // β… λ…ν™•
// ... 50κ° ν¬μΈνΈ
```

### λ³€κ²½ ν†µκ³„

```
connections/static/connections/three_d_viewer.js
- 109 insertions
- 66 deletions
```

## μ„±λ¥ μν–¥

### κ³„μ‚°λ‰ λΉ„κµ

| λ²„μ „ | ν¬μΈνΈ μ | λ°°μ |
|------|-----------|------|
| Before (26) | 8 + 12 + 6 = 26 | 1.0x |
| After (50) | 8 + 12 + 6 + 24 = 50 | 1.92x |

**μ„±λ¥ ν‰κ°€:**
- μ•½ 2λ°° μ¦κ°€ (26 β†’ 50)
- μ—¬μ „ν μ„ ν• λ³µμ΅λ„ O(n)
- κ° ν¬μΈνΈ κ²€μ‚¬λ” λ§¤μ° λΉ λ¦„ (μΆν‘ λ³€ν™ + λΉ„κµ)
- μ‹¤μ  μ²΄κ° μ§€μ—° μ—†μ

### μµμ ν™” κΈ°λ²•

```javascript
// 1. μ΅°κΈ° μΆ…λ£
for (let i = 0; i < samplePoints.length; i++) {
    if (isInBox) {
        pointsInBox++;
        if (!isWindowMode) {
            break;  // Crossing modeμ—μ„λ” μ²« λ°κ²¬ μ‹ μΆ…λ£ κ°€λ¥
        }
    }
}

// 2. Visible ν•„ν„°λ§
if (object.visible) {  // μ¨κ²¨μ§„ κ°μ²΄ μ¤ν‚µ
    bimMeshes.push(object);
}

// 3. μΉ΄λ©”λΌ λ’¤ μ μ™Έ
if (screenPos.z < 1 && screenPos.z > -1) {  // ν™”λ©΄ λ°– μ μ™Έ
    // κ²€μ‚¬ μν–‰
}
```

## ν…μ¤νΈ κ²°κ³Ό

### ν…μ¤νΈ 1: λ³€μλ… μ¶©λ μμ • ν™•μΈ

**μ‹λ‚λ¦¬μ¤:**
1. μ¤λ¥Έμ½β†’μ™Όμ½μΌλ΅ λ“λκ·Έ (Crossing λ¨λ“)
2. κ°μ²΄ λ¨μ„λ¦¬λ§ μ‚΄μ§ κ±ΈμΉκ²

**Before (λ²„κ·Έ):**
- β μ„ νƒ μ• λ¨ (λ³€μλ… μ¶©λλ΅ μλ»λ λΉ„κµ)
- β λ―Έλ¦¬λ³΄κΈ°λ„ μ• λ¨

**After (μμ •):**
- β… μ²­λ΅μƒ‰ λ―Έλ¦¬λ³΄κΈ° ν‘μ‹
- β… λ§μ°μ¤ λ†“μΌλ©΄ μ£Όν™©μƒ‰μΌλ΅ μ„ νƒ
- β… μ½μ†” λ΅κ·Έ μ •μƒ μ¶λ ¥

### ν…μ¤νΈ 2: 50ν¬μΈνΈ μƒν”λ§ ν¨κ³Ό

**μ‹λ‚λ¦¬μ¤:**
1. μ–‡μ€ κ°μ²΄ (κΈ°λ‘¥, λ²½μ²΄ λ“±)
2. λ¨μ„λ¦¬ μΌλ¶€λ§ κ±ΈμΉκ² λ“λκ·Έ

**Before (26 points):**
- β οΈ κ°„νΉ κ°μ§€ μ• λ¨ (μƒν” ν¬μΈνΈ μ‚¬μ΄ κ³µλ°±)

**After (50 points):**
- β… μ–΄λ–¤ λ¨μ„λ¦¬λ“  ν™•μ‹¤ν κ°μ§€
- β… 1/4, μ¤‘μ , 3/4 μ§€μ  μ¤‘ ν•λ‚λ” λ°λ“μ‹ κ±Έλ¦Ό

### ν…μ¤νΈ 3: κ²Ήμ³μ§„ κ°μ²΄

**μ‹λ‚λ¦¬μ¤:**
1. λ‘ κ°μ²΄κ°€ κ²Ήμ³ μμ
2. λ°•μ¤ μ„ νƒμΌλ΅ λ‘ λ‹¤ μ„ νƒ μ‹λ„

**Before:**
- β λ³€μλ… μ¶©λλ΅ μ λ€λ΅ μ‘λ™ μ• ν•¨

**After:**
- β… κ²Ήμ³μ§„ κ°μ²΄ λ¨λ‘ μ •μƒ μ„ νƒ
- β… λ―Έλ¦¬λ³΄κΈ°λ„ μ •ν™•

### ν…μ¤νΈ 4: Window λ¨λ“ μ •λ°€λ„ μ μ§€

**μ‹λ‚λ¦¬μ¤:**
1. μ™Όμ½β†’μ¤λ¥Έμ½μΌλ΅ λ“λκ·Έ (Window λ¨λ“)
2. κ°μ²΄κ°€ μ™„μ „ν λ°•μ¤ μ•μ— λ“¤μ–΄κ°€μ•Ό μ„ νƒ

**Before/After:**
- β… μ—¬μ „ν 8κ° κΌ­μ§“μ λ§ κ²€μ‚¬
- β… Window λ¨λ“ μ •λ°€λ„ μ μ§€
- β… λ¶€λ¶„ ν¬ν•¨ μ‹ μ„ νƒ μ• λ¨ (μ •μƒ)

## μ‚¬μ©μ κ²½ν— κ°μ„ 

### Before (λ²„κ·Έ μμ„ λ•)

β Crossing λ¨λ“κ°€ μ λ€λ΅ μ‘λ™ μ• ν•¨
β λ¨μ„λ¦¬ κ°μ§€ μ‹¤ν¨
β λ―Έλ¦¬λ³΄κΈ°μ™€ μ‹¤μ  μ„ νƒ λ¶μΌμΉ
β κ²ΉμΉ κ°μ²΄ μ„ νƒ λ¶μ•μ •
β μ‚¬μ©μ νΌλ€ ("μ™ μ• λμ§€?")

### After (μμ • ν›„)

β… Crossing λ¨λ“ μ™„λ²½ μ‘λ™
β… λ¨μ„λ¦¬ μ΅°κΈλ§ κ±Έμ³λ„ ν™•μ‹¤ν κ°μ§€
β… λ―Έλ¦¬λ³΄κΈ° = μ‹¤μ  μ„ νƒ (100% μΌμΉ)
β… κ²ΉμΉ κ°μ²΄λ„ μ •ν™•ν μ„ νƒ
β… μμΈ΅ κ°€λ¥ν• λ™μ‘
β… μ‚¬μ©μ μ‹ λΆ°λ„ ν–¥μƒ

## μ„ νƒ λ¨λ“ λΉ„κµ

| λ¨λ“ | λ“λκ·Έ λ°©ν–¥ | λ°•μ¤ μ¤νƒ€μΌ | κ²€μ‚¬ ν¬μΈνΈ | μ„ νƒ μ΅°κ±΄ |
|------|-------------|-------------|-------------|-----------|
| **Window** | μ™Όμ½β†’μ¤λ¥Έμ½ | μ‹¤μ„  νλ€μƒ‰ | 8κ° κΌ­μ§“μ  | **λ¨λ‘** λ°•μ¤ μ• |
| **Crossing** | μ¤λ¥Έμ½β†’μ™Όμ½ | μ μ„  λ…Ήμƒ‰ | 50κ° μƒν” ν¬μΈνΈ | **ν•λ‚λΌλ„** λ°•μ¤ μ• |

## μ½”λ“ ν’μ§ κ°μ„ 

### λ³€μ λ…λ… κ·μΉ™

**Before (νΌλ€):**
- `minX` β†’ μ„ νƒ λ°•μ¤? λ°”μ΄λ”© λ°•μ¤? λ¶λ…ν™•
- κ°™μ€ μ΄λ¦„μ΄ μ—¬λ¬ μ¤μ½”ν”„μ—μ„ μ‚¬μ©λ¨

**After (λ…ν™•):**
- `selMinX` β†’ μ„ νƒ λ°•μ¤ (Selection box)
- `bboxMinX` β†’ λ°”μ΄λ”© λ°•μ¤ (Bounding box)
- μ ‘λ‘μ‚¬λ΅ λ…ν™•ν κµ¬λ¶„

### κ°€λ…μ„± ν–¥μƒ

```javascript
// Before (ν—·κ°λ¦Ό)
if (x >= minX && x <= maxX) {
    // μ–΄λ minX? μ„ νƒ λ°•μ¤? λ°”μ΄λ”© λ°•μ¤?
}

// After (λ…ν™•)
if (x >= selMinX && x <= selMaxX) {
    // λ…ν™•ν μ„ νƒ λ°•μ¤ μΆν‘μ™€ λΉ„κµ
}
```

## λ””λ²„κΉ… ν

### μ½μ†” λ΅κ·Έ μ¶”κ°€

```javascript
console.log('[3D Viewer] Selection box:', {
    selMinX, selMaxX, selMinY, selMaxY
});

console.log('[3D Viewer] Bounding box:', {
    bboxMinX, bboxMaxX, bboxMinY, bboxMaxY
});

console.log('[3D Viewer] Points in box:', pointsInBox);
```

### λ³€μλ… μ¶©λ λ°©μ§€ μ²΄ν¬λ¦¬μ¤νΈ

β… μ„ νƒ λ°•μ¤ μΆν‘: `sel` μ ‘λ‘μ‚¬
β… λ°”μ΄λ”© λ°•μ¤ μΆν‘: `bbox` μ ‘λ‘μ‚¬
β… μ¤ν¬λ¦° μΆν‘: λ…ν™•ν• λ³€μλ… (`screenPos`, `x`, `y`)
β… λ°λ³µλ¬Έ λ³€μ: `i`, `point` λ“± λ…ν™•ν• μ΄λ¦„

## μ•λ ¤μ§„ μ ν•μ‚¬ν•­

1. **μ„±λ¥**
   - 50κ° ν¬μΈνΈλ” λ€λ¶€λ¶„ μƒν™©μ—μ„ μ¶©λ¶„
   - κ·Ήλ„λ΅ λ³µμ΅ν• μ”¬μ—μ„λ” μ§€μ—° κ°€λ¥μ„± (λ“λ¬Ύ)

2. **AABB ν•κ³„**
   - μ—¬μ „ν Axis-Aligned Bounding Box μ‚¬μ©
   - νμ „λ κ°μ²΄λ” μ‹¤μ λ³΄λ‹¤ ν° λ°•μ¤
   - 50κ° ν¬μΈνΈλ΅ λ€λ¶€λ¶„ μ™„ν™”

3. **κ·Ήλ‹¨μ  κ²½μ°**
   - λ§¤μ° μ–‡κ³  κΈ΄ κ°μ²΄μ λλ¶€λ¶„
   - ν•„μ”μ‹ λ” λ§μ€ μƒν” ν¬μΈνΈ μ¶”κ°€ κ°€λ¥

## ν–¥ν›„ κ°μ„  λ°©ν–¥

1. **λ™μ  μƒν”λ§**
   - κ°μ²΄ ν¬κΈ°μ— λ”°λΌ μƒν” ν¬μΈνΈ μ μ΅°μ •
   - ν° κ°μ²΄: λ” λ§μ€ μƒν” (μ: 100κ°)
   - μ‘μ€ κ°μ²΄: κΈ°λ³Έ μƒν” (μ: 26κ°)

2. **OBB (Oriented Bounding Box)**
   - νμ „λ κ°μ²΄μ— λ” μ •ν™•ν• λ°”μ΄λ”© λ°•μ¤
   - κ³„μ‚° λΉ„μ© μ¦κ°€, ν•μ§€λ§ μ •ν™•λ„ ν–¥μƒ

3. **κ³µκ°„ νν‹°μ…”λ‹**
   - Octree/BVHλ΅ κ²€μ‚¬ λ€μƒ μ¶•μ†
   - λ€κ·λ¨ μ”¬μ—μ„ μ„±λ¥ κ°μ„ 

4. **GPU κ°€μ†**
   - WebGL compute shaderλ΅ λ³‘λ ¬ μ²λ¦¬
   - μλ§ κ° κ°μ²΄λ„ μ‹¤μ‹κ°„ μ²λ¦¬

## μ»¤λ°‹ μ •λ³΄

- **Commit**: 751831f
- **λ©”μ‹μ§€**: "Fix variable name collision and improve edge detection to 50 points"
- **νμΌ**: 1κ° λ³€κ²½ (109 insertions, 66 deletions)
- **Push**: origin/main

## κ΄€λ ¨ μ΄μ

**μ‚¬μ©μ λ³΄κ³ :**
> "2κ°μ κ°μ²΄κ°€ κ²Ήμ³μμµλ‹λ‹¤. μ°μΈ΅μ—μ„ μΆμΈ΅μΌλ΅ μλ„μ°λ¥Ό μ§€μ¤λ©”νΈλ¦¬κ°μ²΄μ— κ²Ήμ³¤μ„λ• λ¨μ„λ¦¬λ¶€λ¶„λ§ κ²ΉμΉλ©΄ μ„ νƒλ―Έλ¦¬λ³΄κΈ°κ°€ μ•λκ³  μ„ νƒλ„ μ•λκ³ μμ–΄. λ¬Έμ λ¥Ό λ‹¤ ν•΄κ²°ν•΄μ¤."

**ν•΄κ²°:**
1. β… λ³€μλ… μ¶©λ μμ • (κ·Όλ³Έ μ›μΈ ν•΄κ²°)
2. β… 50ν¬μΈνΈ μƒν”λ§ (κ°μ§€ μ •ν™•λ„ ν–¥μƒ)
3. β… κ²ΉμΉ κ°μ²΄λ„ μ •μƒ μ„ νƒ
4. β… λ―Έλ¦¬λ³΄κΈ°μ™€ μ„ νƒ μ™„μ „ λ™κΈ°ν™”

## μ°Έκ³ 

- **Variable Shadowing**: κ°™μ€ μ΄λ¦„μ λ³€μκ°€ λ‚΄λ¶€ μ¤μ½”ν”„μ—μ„ μ™Έλ¶€ λ³€μλ¥Ό κ°€λ¦¬λ” ν„μƒ
- **AABB**: Axis-Aligned Bounding Box (μ¶• μ •λ ¬ λ°”μ΄λ”© λ°•μ¤)
- **Screen Space Projection**: 3D μ›”λ“ μΆν‘ β†’ 2D ν™”λ©΄ μΆν‘ λ³€ν™
- **NDC**: Normalized Device Coordinates (-1 ~ 1 λ²”μ„)

## κ²°λ΅ 

μ΄λ² μμ •μΌλ΅ λ‘ κ°€μ§€ ν•µμ‹¬ λ¬Έμ λ¥Ό ν•΄κ²°ν–μµλ‹λ‹¤:

1. **λ³€μλ… μ¶©λ (μΉλ…μ  λ²„κ·Έ)**
   - μ„ νƒ λ΅μ§μ΄ μ™„μ „ν μλ» μ‘λ™ν•λ λ¬Έμ  μμ •
   - λ…ν™•ν• λ³€μλ…μΌλ΅ μ½”λ“ ν’μ§ ν–¥μƒ

2. **μƒν” ν¬μΈνΈ μ¦κ°€**
   - 26κ° β†’ 50κ°λ΅ κ±°μ 2λ°° μ¦κ°€
   - λ¨μ„λ¦¬ κ°μ§€ μ •ν™•λ„ λ€ν­ ν–¥μƒ

**μµμΆ… κ²°κ³Ό:**
- β… Crossing λ¨λ“ μ™„λ²½ μ‘λ™
- β… λ¨μ„λ¦¬ μ΅°κΈλ§ κ±Έμ³λ„ ν™•μ‹¤ν μ„ νƒ
- β… κ²ΉμΉ κ°μ²΄λ„ μ •ν™•ν μ„ νƒ
- β… λ―Έλ¦¬λ³΄κΈ°μ™€ μ‹¤μ  μ„ νƒ 100% μΌμΉ
- β… AutoCAD μμ¤€μ μ„ νƒ ν’μ§ λ‹¬μ„±
