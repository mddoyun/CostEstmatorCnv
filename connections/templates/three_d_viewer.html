<div class="three-d-viewer-main-wrapper">
    <div class="three-d-viewer-top-section">
        <div class="three-d-viewer-container">
            <canvas id="three-d-canvas"></canvas>
            <div class="viewer-controls">
                <button id="load-geometry-btn">Load Geometry</button>
                <button id="clear-scene-btn">Clear Scene</button>
                <div class="split-controls" id="split-controls-panel" style="display: none;">
                    <div class="split-control-row">
                        <label>분할 축:</label>
                        <select id="split-axis-select">
                            <option value="z" selected>Z축 (수평)</option>
                            <option value="x">X축 (세로)</option>
                            <option value="y">Y축 (세로)</option>
                        </select>
                    </div>
                    <div class="split-control-row">
                        <label>분할 위치:</label>
                        <input type="range" id="split-position-slider" min="0" max="100" value="50" step="1">
                        <span id="split-position-value">50%</span>
                    </div>
                    <div class="split-control-row">
                        <button id="preview-split-btn">미리보기</button>
                        <button id="apply-split-btn">분할 적용</button>
                        <button id="cancel-split-btn">취소</button>
                    </div>
                </div>
                <button id="split-object-btn" disabled>Split Object</button>
                <button id="sketch-split-btn" disabled>Sketch Split</button>
                <div class="sketch-controls" id="sketch-controls-panel" style="display: none;">
                    <div class="sketch-control-row">
                        <h4>1. 작업면 선택</h4>
                        <button id="select-face-btn">작업면 선택</button>
                        <span id="selected-face-info"></span>
                    </div>
                    <div class="sketch-control-row">
                        <h4>2. 스케치 그리기</h4>
                        <button id="start-sketch-btn" disabled>스케치 시작</button>
                        <button id="clear-sketch-btn" disabled>스케치 지우기</button>
                        <button id="close-sketch-btn" disabled>닫기</button>
                    </div>
                    <div class="sketch-control-row">
                        <h4>3. 분할 적용</h4>
                        <button id="apply-sketch-split-btn" disabled>분할 적용</button>
                        <button id="cancel-sketch-btn">취소</button>
                    </div>
                </div>
            </div>
            <canvas id="sketch-canvas" style="position: absolute; top: 0; left: 0; display: none; pointer-events: none;"></canvas>
            <div id="dimension-input-display" style="position: absolute; bottom: 20px; left: 20px; display: none; background: rgba(0, 0, 0, 0.8); color: #00ff00; padding: 10px 15px; border-radius: 5px; font-family: 'Courier New', monospace; font-size: 18px; font-weight: bold; pointer-events: none; z-index: 1000;">
                <span id="dimension-input-text"></span>
            </div>
            <div id="snap-indicator-2d" style="position: absolute; display: none; pointer-events: none; z-index: 1001;">
                <div id="snap-icon" style="width: 20px; height: 20px; position: relative;"></div>
                <div id="snap-label" style="margin-top: 2px; font-size: 11px; font-weight: bold; color: white; text-shadow: 1px 1px 2px black; white-space: nowrap; text-align: center;"></div>
            </div>
        </div>
        <div class="three-d-properties-panel">
            <div class="properties-header">
                <div class="properties-tabs">
                    <button class="properties-tab-button active" data-tab="bim-properties">BIM 속성</button>
                    <button class="properties-tab-button" data-tab="quantity-members">수량산출부재</button>
                </div>
            </div>
            <div class="properties-tab-content active" id="bim-properties-tab">
                <div class="properties-content" id="three-d-properties-content">
                    <p class="no-selection">Click on an object to view its properties</p>
                </div>
            </div>
            <div class="properties-tab-content" id="quantity-members-tab">
                <div class="quantity-members-list-container">
                    <h4>연관된 수량산출부재</h4>
                    <div class="quantity-members-list" id="three-d-quantity-members-list">
                        <p class="no-selection">객체를 선택하세요</p>
                    </div>
                </div>
                <div class="quantity-member-details-container">
                    <h4>수량산출부재 속성</h4>
                    <div class="quantity-member-details" id="three-d-quantity-member-details">
                        <p class="no-selection">리스트에서 수량산출부재를 선택하세요</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="three-d-viewer-bottom-section">
        <div class="cost-items-panel">
            <div class="cost-items-panel-header">
                <h3>공사코드별 비용 정보</h3>
            </div>
            <div class="cost-items-panel-content" id="three-d-cost-items-table">
                <p class="no-selection">객체를 선택하세요</p>
            </div>
        </div>
    </div>
</div>